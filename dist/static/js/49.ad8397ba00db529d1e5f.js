webpackJsonp([49],{1144:function(e,t,i){"use strict";var s=i(181),r=i(180),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e};t.a={name:"service",props:["id"],components:{ContentHeader:s.a,cSwitch:r.a},data:function(){return{name:"Application 상세",originItems:{},items:{createId:null,modifyId:null,operatorId:null,operatorName:null,companyName:null,deptName:null,email:null,operatorStateCode:null,operatorStateName:null,operatorState:null,deleteDateTime:null,accountLockYn:null,operatorGroupList:[],groupList:[],operatorServiceList:[],serviceList:[]},code:{groupList:[],serviceList:[]},isLoad:{groupCode:!0,serviceCode:!0},isEdit:!1,isModalHistory:!1,modal:{open:!1,type:"done",msg:"",action:function(){}},inValidForm:!1,groupSelectPlatform:!1,serviceSelectAll:!1}},computed:{serviceList:{get:function(){var e=this;return this.items.serviceList.length>0?this.items.serviceList.map(function(t){return e.code.serviceCode.find(function(e){return e.serviceId===t})}):[]},set:function(e){this.items.serviceList=e.length>0?e.map(function(e){return e.serviceId}):[]}},groupList:{get:function(){var e=this;return this.items.groupList.length>0?this.items.groupList.map(function(t){return e.code.groupList.find(function(e){return e.groupId===t})}):[]},set:function(e){this.items.groupList=e.length>0?e.map(function(e){return e.groupId}):[]}},valid:function(){return{operatorName:null!==this.items.operatorName,deptName:null!==this.items.deptName,email:null!==this.items.email,cellphoneNumber:null!==this.items.cellphoneNumber,groupList:!this.groupList.length,serviceList:!this.serviceList.length}}},created:function(){var e=this,t="/monitoring/policies/send/"+this.id;this.$https.get(t).then(function(t){e.items=a({},e.items,t.data.items),e.items.groupNames=e.items.groupNames.split(","),e.originItems=JSON.parse(JSON.stringify(e.items))}),this.$https.get("/setting/operators/services").then(function(t){e.isLoad.serviceCode=!1,e.code.serviceCode=t.data.items,e.code.serviceCode.push({serviceId:0,serviceName:"전체"})}),this.$https.get("/setting/operators/groups").then(function(t){e.isLoad.groupCode=!1,e.code.groupList=t.data.items})},methods:{fetchDetail:function(e){},onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var e=this,t={operatorName:this.items.operatorName,deptName:this.items.deptName,email:this.items.email,cellphoneNumber:this.items.cellphoneNumber,groupList:this.items.groupList,serviceList:this.items.serviceList},i=this.$valid.all(t);if(this.inValidForm=!i,i){0==this.items.serviceList[0]?(this.items.operatorServiceList=[],this.code.serviceCode.forEach(function(t){0==t.serviceId||e.items.operatorServiceList.push(t.serviceId)})):this.items.operatorServiceList=this.items.serviceList,this.items.operatorGroupList=this.items.groupList,this.items.operatorState?this.items.operatorStateCode="OPERATOR_STATE_02":this.items.operatorStateCode="OPERATOR_STATE_03",this.$https.put("/setting/management/operators/"+this.id,this.items).then(function(){e.$router.go(e.$router.currentRoute)}).catch(function(e){console.log(e)})}},validate:function(e){},getHistoryLink:function(e){return"#/apis/application/"+this.id+"?histories="+e},showHistory:function(){var e=this;this.isModalHistory=!this.isModalHistory,this.$https.get("/apiManagement/apps/"+this.id+"/histories").then(function(t){e.history.items=t.data.items})},serviceSelect:function(e){0==e.serviceId&&this.code.serviceCode.forEach(function(e){e.$isDisabled=!0})},serviceRemove:function(e){0==e.serviceId&&this.code.serviceCode.forEach(function(e){e.$isDisabled=!1})},groupSelect:function(e){1==e.groupId&&(this.groupSelectPlatform=!0,this.serviceList=[{serviceId:0,serviceName:"전체"}])},groupRemove:function(e){1==e.groupId&&(this.groupSelectPlatform=!1)}}}},1145:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"animated fadeIn"},[i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],staticClass:"btn-collapse"},[i("i",{staticClass:"fa"}),e._v("\n      기본정보\n    ")])],1),e._v(" "),i("b-collapse",{attrs:{id:"formDefault",visible:""}},[i("b-form",{staticClass:"formView",attrs:{validated:e.inValidForm,novalidate:""}},[i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          ID\n        ")]),e._v(" "),i("b-form-input",{attrs:{type:"text",plaintext:"",required:""},model:{value:e.items.alarmPolicyId,callback:function(t){e.$set(e.items,"alarmPolicyId",t)},expression:"items.alarmPolicyId"}})],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Server Type"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),i("b-form-input",{attrs:{type:"text",placeholder:"Enter Name",plaintext:!e.isEdit,required:""},model:{value:e.items.serverType,callback:function(t){e.$set(e.items,"serverType",t)},expression:"items.serverType"}})],2),e._v(" "),i("div",{staticClass:"form-row"},[i("b-form-fieldset",{attrs:{label:"Host Name",horizontal:!0}},[e._v("\n            "+e._s(e.items.hostName)+"\n        ")]),e._v(" "),i("b-form-fieldset",{attrs:{label:"IP",horizontal:!0}},[e._v("\n          "+e._s(e.items.ip)+"\n        ")])],1),e._v(" "),i("div",{staticClass:"form-row"},[i("b-form-fieldset",{attrs:{label:"알림 구분",horizontal:!0}},[e._v("\n            "+e._s(e.items.policyTypeName)+"\n        ")]),e._v(" "),i("b-form-fieldset",{attrs:{label:"임계치 → 발생수치",horizontal:!0}},[i("span",[e._v(e._s(e.items.policyThreshold)+" → ")]),e._v(" "),i("span",{staticStyle:{color:"red"}},[e._v(e._s(e.items.policyOutbreak))])])],1),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          수신 그룹"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),i("div",{staticClass:"badge-list"},e._l(e.items.groupNames,function(t){return i("span",{staticClass:"badge sm"},[e._v("\n            "+e._s(t)+"\n          ")])}))],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          알림 방법"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),i("b-form-input",{attrs:{type:"text",placeholder:"Enter Name",plaintext:!e.isEdit,required:""},model:{value:e.items.alarmTypeName,callback:function(t){e.$set(e.items,"alarmTypeName",t)},expression:"items.alarmTypeName"}})],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          전송일"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),i("b-form-input",{attrs:{type:"text",placeholder:"Enter Name",plaintext:!e.isEdit,required:""},model:{value:e.items.createDatetime,callback:function(t){e.$set(e.items,"createDatetime",t)},expression:"items.createDatetime"}})],2)],1)],1),e._v(" "),i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Operator 관리"}}},[e._v("목록")])],1)],1)},r=[],a={render:s,staticRenderFns:r};t.a=a},655:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1144),r=i(1145),a=i(15),o=a(s.a,r.a,null,null,null);t.default=o.exports}});