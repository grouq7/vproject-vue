webpackJsonp([43],{1164:function(e,t,s){"use strict";var c=s(180);t.a={name:"schedules",components:{cSwitch:c.a},data:function(){return{items:{scheduleName:"",scheduleClassName:"",inputSectionCode:"EXEC_CYCLE_INPUT_SECTION_01",execCycle:null,useYn:!0,secondSelect:"0",minuteSelect:{code:"*",codeName:"매분"},hourSelect:{code:"*",codeName:"매시간"},daySelect:{code:"*",codeName:"매일"},monthSelect:{code:"*",codeName:"매월"},weekSelect:{code:"?",codeName:"선택안함"}},code:{inputSectionCode:[],minuteSelect:[],hourSelect:[],daySelect:[],monthSelect:[],weekSelect:[]},isLoad:{inputSectionCode:!0,minuteSelect:!0,hourSelect:!0,daySelect:!0,monthSelect:!0,weekSelect:!0},scheduleNameExists:null,inValidForm:!1}},computed:{inputSectionCode:{get:function(){var e=this;return this.code.inputSectionCode.find(function(t){return t.code===e.items.inputSectionCode})||null},set:function(e){this.items.inputSectionCode=null!==e?e.code:null}},minuteSelect:{get:function(){var e=this;return this.code.minuteSelect.find(function(t){return t.code===e.items.minuteSelect})||null},set:function(e){this.items.minuteSelect=null!==e?e.code:null}},hourSelect:{get:function(){var e=this;return this.code.hourSelect.find(function(t){return t.code===e.items.hourSelect})||null},set:function(e){this.items.hourSelect=null!==e?e.code:null}},daySelect:{get:function(){var e=this;return this.code.daySelect.find(function(t){return t.code===e.items.daySelect})||null},set:function(e){this.items.daySelect=null!==e?e.code:null}},monthSelect:{get:function(){var e=this;return this.code.monthSelect.find(function(t){return t.code===e.items.monthSelect})||null},set:function(e){this.items.monthSelect=null!==e?e.code:null}},weekSelect:{get:function(){var e=this;return this.code.weekSelect.find(function(t){return t.code===e.items.weekSelect})||null},set:function(e){this.items.weekSelect=null!==e?e.code:null}},valid:function(){return{scheduleName:null===this.scheduleNameExists&&0===this.items.scheduleName.length?this.scheduleNameExists:this.items.scheduleName.length>0&&/^[A-Za-z0-9]*$/.test(this.items.scheduleName)&&"success"===this.scheduleNameExists}},feedback:function(){return{scheduleName:!/^[A-Za-z0-9]*$/.test(this.items.scheduleName)&&this.items.scheduleName.length>0?"영문, 숫자만 입력하십시오.":null===this.scheduleNameExists&&this.items.scheduleName.length>0?"중복확인은 필수입니다.":"not"===this.scheduleNameExists?"입력된 항목이 없습니다.":"fail"===this.scheduleNameExists?"이미 등록된 Scheduler Name이 있습니다.":0===this.items.scheduleName.length?this.$valid.msg.require:""}}},created:function(){var e=this;this.isLoad.minuteSelect=!1,this.code.minuteSelect.push({code:"*",codeName:"매분"});for(var t=0;t<60;t++)this.code.minuteSelect.push({code:t,codeName:t+"분"});this.isLoad.hourSelect=!1,this.code.hourSelect.push({code:"*",codeName:"매시간"});for(var t=0;t<24;t++)this.code.hourSelect.push({code:t,codeName:t+"시"});this.isLoad.daySelect=!1,this.code.daySelect.push({code:"*",codeName:"매일"});for(var t=1;t<=31;t++)this.code.daySelect.push({code:t,codeName:t+"일"});this.isLoad.monthSelect=!1,this.code.monthSelect.push({code:"*",codeName:"매월"});for(var t=1;t<=12;t++)this.code.monthSelect.push({code:t,codeName:t+"월"});this.isLoad.weekSelect=!1,this.code.weekSelect.push({code:"?",codeName:"선택안함"});for(var t=1;t<=7;t++)this.code.weekSelect.push({code:this.dayOfWeekValue(t),codeName:this.dayOfWeek(t)});this.$https.get("/system/commonCode",{q:{groupCode:"EXEC_CYCLE_INPUT_SECTION"}}).then(function(t){e.isLoad.inputSectionCode=!1,e.code.inputSectionCode=t.data.items})},methods:{dayOfWeek:function(e){var t;switch(e){case 1:t="일요일";break;case 2:t="월요일";break;case 3:t="화요일";break;case 4:t="수요일";break;case 5:t="목요일";break;case 6:t="금요일";break;case 7:t="토요일"}return t},dayOfWeekValue:function(e){var t;switch(e){case 1:t="SUN";break;case 2:t="MON";break;case 3:t="TUE";break;case 4:t="WED";break;case 5:t="THU";break;case 6:t="FRI";break;case 7:t="SAT"}return t},setExecutionCycle:function(){if("EXEC_CYCLE_INPUT_SECTION_01"===this.items.inputSectionCode){var e=this.items.secondSelect+" "+this.items.minuteSelect.code+" "+this.items.hourSelect.code+" "+this.items.daySelect.code+" "+this.items.monthSelect.code+" "+this.items.weekSelect.code;this.items.execCycle=e}},onSubmit:function(){var e=this;this.setExecutionCycle();var t=this.$valid.all(this.items)&&"success"===this.scheduleNameExists;this.inValidForm=!t,t&&this.$https.post("/system/schedules",this.items).then(function(t){e.$router.push({name:"Scheduler 상세",params:{id:t.data.items}})}).catch(function(e){console.log(e),alert(e.response.data.error.message)})},fetchNameExists:function(){var e=this;if(!this.items.scheduleName)return void(this.scheduleNameExists="not");this.$https.get("/system/schedules/scheduleName/exists",{scheduleName:this.items.scheduleName}).then(function(t){e.scheduleNameExists="Success"===t.data.result?"success":"fail"})}}}},1165:function(e,t,s){"use strict";var c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animated fadeIn"},[s("b-form",{staticClass:"formView",attrs:{validated:e.inValidForm,novalidate:""}},[s("b-form-fieldset",{attrs:{label:"Scheduler Name<i class='require'>*</i>","invalid-feedback":e.feedback.scheduleName,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",placeholder:"Enter scheduler Name",state:e.valid.scheduleName,required:""},on:{input:function(t){e.scheduleNameExists=null}},model:{value:e.items.scheduleName,callback:function(t){e.$set(e.items,"scheduleName",t)},expression:"items.scheduleName"}}),e._v(" "),s("b-button",{attrs:{variant:"in-table"},on:{click:e.fetchNameExists}},[e._v("중복확인")]),e._v(" "),null!==e.scheduleNameExists?s("span",{staticClass:"ico ml-2 mid"},["success"===e.scheduleNameExists?s("i",{staticClass:"fa fa-check-circle"}):e._e(),e._v(" "),"fail"===e.scheduleNameExists?s("i",{staticClass:"fa fa-times-circle"}):e._e()]):e._e()],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"Class Name<i class='require'>*</i>","invalid-feedback":e.feedback.scheduleClassName,horizontal:!0}},[s("b-form-input",{attrs:{type:"text",placeholder:"Enter Class name",required:""},model:{value:e.items.scheduleClassName,callback:function(t){e.$set(e.items,"scheduleClassName",t)},expression:"items.scheduleClassName"}})],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"실행주기<i class='require'>*</i>",horizontal:!0}},[s("b-form-radio-group",{attrs:{options:e.code.inputSectionCode,name:"inputSectionCode","value-field":"code","text-field":"codeName"},model:{value:e.items.inputSectionCode,callback:function(t){e.$set(e.items,"inputSectionCode",t)},expression:"items.inputSectionCode"}}),e._v(" "),"EXEC_CYCLE_INPUT_SECTION_02"===e.items.inputSectionCode?s("b-form-input",{attrs:{type:"text",placeholder:"Enter execCycle",required:""},model:{value:e.items.execCycle,callback:function(t){e.$set(e.items,"execCycle",t)},expression:"items.execCycle"}}):e._e(),e._v(" "),"EXEC_CYCLE_INPUT_SECTION_01"===e.items.inputSectionCode?s("div",[e._v("\n        분\n        "),s("multiselect",{staticClass:"noEmpty",staticStyle:{width:"50px"},attrs:{label:"codeName",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.minuteSelect},model:{value:e.items.minuteSelect,callback:function(t){e.$set(e.items,"minuteSelect",t)},expression:"items.minuteSelect"}}),e._v("\n        시\n        "),s("multiselect",{staticClass:"noEmpty",staticStyle:{width:"50px"},attrs:{label:"codeName",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.hourSelect},model:{value:e.items.hourSelect,callback:function(t){e.$set(e.items,"hourSelect",t)},expression:"items.hourSelect"}}),e._v("\n        일\n        "),s("multiselect",{staticClass:"noEmpty",staticStyle:{width:"50px"},attrs:{label:"codeName",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.daySelect},model:{value:e.items.daySelect,callback:function(t){e.$set(e.items,"daySelect",t)},expression:"items.daySelect"}}),e._v("\n        월\n        "),s("multiselect",{staticClass:"noEmpty",staticStyle:{width:"50px"},attrs:{label:"codeName",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.monthSelect},model:{value:e.items.monthSelect,callback:function(t){e.$set(e.items,"monthSelect",t)},expression:"items.monthSelect"}}),e._v("\n        주\n        "),s("multiselect",{staticClass:"noEmpty",staticStyle:{width:"50px"},attrs:{label:"codeName",allowEmpty:!1,showLabels:!1,searchable:!1,options:e.code.weekSelect},model:{value:e.items.weekSelect,callback:function(t){e.$set(e.items,"weekSelect",t)},expression:"items.weekSelect"}})],1):e._e()],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"설명",horizontal:!0}},[s("b-form-textarea",{attrs:{rows:6},model:{value:e.items.scheduleDesc,callback:function(t){e.$set(e.items,"scheduleDesc",t)},expression:"items.scheduleDesc"}})],1),e._v(" "),s("b-form-fieldset",{attrs:{label:"사용여부",horizontal:!0}},[s("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:e.items.popUseYn,callback:function(t){e.$set(e.items,"popUseYn",t)},expression:"items.popUseYn"}})],1)],1),e._v(" "),s("div",{staticClass:"page-btn"},[s("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Scheduler 관리"}}},[e._v("취소")]),e._v(" "),s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장")])],1)],1)},i=[],l={render:c,staticRenderFns:i};t.a=l},665:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=s(1164),i=s(1165),l=s(15),a=l(c.a,i.a,null,null,null);t.default=a.exports}});