webpackJsonp([71],{1066:function(e,t,s){"use strict";var o=s(181),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e};t.a={name:"pops",props:["id"],components:{ContentHeader:o.a},data:function(){return{name:"Pop 상세",fields:{edgeId:{label:"ID",thStyle:"width:100px"},edgeIp:{label:"IP",thStyle:"width:200px",class:"text-left"},edgeHostName:{label:"Host Name",class:"text-left"},edgeRelayYn:{label:"Type"},edgeUseYn:{label:"상태",thStyle:"width:120px"},action:{label:""}},items:[],pageInfo:{page:1,size:10,resultCount:1,totalCount:1},edge:{edgeAttachList:[],items:[],fields:{edgeId:{label:" ",thStyle:"width:20px",class:"text-center"},ip:{label:"IP",thStyle:"width:120px",class:"text-left"},hostName:{label:"Host Name",class:"text-left"},edgeRelayYn:{label:"구분"},serviceTypeName:{label:"serviceType-protocol"},popName:{label:"PoP",thStyle:"width:100px"}},pageInfo:{page:1,size:10,resultCount:1,totalCount:1},queryParams:[],isAllToggled:!1},code:{edgeRelayYn:[{value:!0,label:"Relay"},{value:!1,label:"Edge"}],serviceTypeProtocol:[],popId:[]},isLoad:{serviceTypeProtocol:!0,popId:!0},searchItem:{searchType:"hostName",searchKeyword:null,edgeRelayYn:null,serviceTypeCode:null,popId:null},modal:{open:!1,type:"done",msg:"",action:function(){},hideCancelBtn:!1},isModalUseYn:!1}},computed:{edgeRelayYn:{get:function(){return this.searchItem.edgeRelayYn},set:function(e){this.searchItem.edgeRelayYn=e}},serviceTypeProtocol:{get:function(){var e=this;return this.code.serviceTypeProtocol.filter(function(t){return t.serviceTypeAndProtocolCode===e.searchItem.serviceTypeCode})[0]||null},set:function(e){this.searchItem.serviceTypeCode=null!==e?e.serviceTypeAndProtocolCode:null}},popId:{get:function(){var e=this;return this.code.popId.find(function(t){return t.popId===e.searchItem.popId})||null},set:function(e){this.searchItem.popId=null!==e?e.popId:null}}},created:function(){var e=this;this.$https.get("/pops/"+this.id+"/edges").then(function(t){e.items=t.data.items}),this.$https.get("/edges/serviceTypeAndProtocol").then(function(t){e.isLoad.serviceTypeProtocol=!1,e.code.serviceTypeProtocol=t.data.items}),this.$https.get("/pops").then(function(t){e.isLoad.popId=!1,e.code.popId=t.data.items,e.code.popId.push({popId:"미선택",popName:"미선택"})}),this.isLoad.serviceList=!1},methods:{toggleAll:function(){console.log("Class: methods, Function: toggleAll, Line 480 (): ");var e=this.edge.isAllToggled;this.edge.isAllToggled=!e,this.edge.edgeAttachList=e?[]:this.edge.items.map(function(e){return e.edgeId})},onDelete:function(e){var t=this;this.modal={open:!0,type:"error",msg:"Edge 삭제 시 서비스에 바로 적용 \n됩니다. 정말로 삭제하시겠습니까?.\n",action:function(){return t.onDeleteData(e)}}},onDeleteData:function(e){var t=this;this.$https.delete("/pops/"+this.id+"/edges/"+e).then(function(e){t.$router.go(t.$router.currentRoute)}).catch(function(e){console.log(e)})},onAdd:function(){var e=this;this.modal={open:!0,type:"info",msg:"Edge 추가 시 서비스에 바로 적용 \n됩니다. 정말로 추가하시겠습니까?",action:function(){e.fetchEdgeList(),e.isModalUseYn=!e.isModalUseYn}}},onOpen:function(){},onReset:function(){this.onSearchReset(),this.isModalUseYn=!this.isModalUseYn},onAttachEdge:function(){var e=this,t={edgeList:this.edge.edgeAttachList};this.$https.post("/pops/"+this.id+"/addEdges",a({},t)).then(function(t){e.$router.go(e.$router.currentRoute)}).catch(function(e){console.log(e)})},onSearch:function(){var e=this;this.edge.queryParams={},Object.keys(this.searchItem).forEach(function(t){null!==e.searchItem[t]&&""!==e.searchItem[t]&&(e.edge.queryParams[t]="edgeUseYn"===t?"사용"===e.searchItem[t]:e.searchItem[t])}),this.fetchEdgeList({page:1})},onSearchReset:function(){this.resetSearchItem(),this.fetchEdgeList({page:1})},resetSearchItem:function(){var e=this;Object.keys(this.searchItem).forEach(function(t){e.searchItem[t]="searchType"===t?"hostName":"edgeAttachList"===t?[]:null}),this.edge.queryParams={}},fetchEdgeList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={page:this.edge.pageInfo.page,size:this.edge.pageInfo.size,q:this.edge.queryParams};this.$https.get("/edges",a({},s,t)).then(function(t){e.edge.items=t.data.items.map(function(e){return e.serviceTypeName=e.serviceTypeName?e.serviceTypeName.split(","):[],e.popName=e.popName?e.popName.split(","):[],e}),e.edge.pageInfo=t.data.pageInfo})}}}},1067:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animated fadeIn"},[s("content-header",{attrs:{title:e.items.popName,name:e.name}}),e._v(" "),s("div",{staticClass:"collapse-title"},[s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.edge",modifiers:{edge:!0}}],staticClass:"btn-collapse"},[s("i",{staticClass:"fa"}),e._v("\n      Edge\n    ")])],1),e._v(" "),s("b-collapse",{attrs:{id:"edge",visible:""}},[s("section",{staticClass:"board"},[s("b-table",{attrs:{"show-empty":"",items:e.items,fields:e.fields},scopedSlots:e._u([{key:"edgeRelayYn",fn:function(t){return[e._v(e._s(t.value?"Relay":"Edge"))]}},{key:"edgeUseYn",fn:function(t){return[e._v(e._s(t.value?"사용":"미사용"))]}},{key:"action",fn:function(t){return[s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(s){e.onDelete(t.item.edgeId)}}},[e._v("삭제")])]}}])})],1)]),e._v(" "),s("div",{staticClass:"page-btn"},[s("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Pop 관리"}}},[e._v("목록")]),e._v(" "),s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:e.onAdd}},[e._v("추가")])],1),e._v(" "),s("b-modal",{attrs:{size:"lg"},on:{show:e.onOpen,hide:e.onReset},model:{value:e.isModalUseYn,callback:function(t){e.isModalUseYn=t},expression:"isModalUseYn"}},[s("template",{slot:"modal-title"},[e._v("\n      "+e._s(e.items.serviceTypeCode)+"\n      "),s("small",[e._v(" Edge 추가(등록)")])]),e._v(" "),s("b-form",{staticClass:"searchBox",on:{reset:e.onSearchReset}},[s("div",{staticClass:"form-row"},[s("b-form-fieldset",{staticClass:"inline label-lg",attrs:{label:"HostName",horizontal:!0}},[s("b-form-input",{staticClass:"keyword",attrs:{type:"text",placeholder:"Enter Search text"},model:{value:e.searchItem.searchKeyword,callback:function(t){e.$set(e.searchItem,"searchKeyword",t)},expression:"searchItem.searchKeyword"}})],1),e._v(" "),s("b-form-fieldset",{staticClass:"label-lg",attrs:{label:"구분",horizontal:!0}},[s("multiselect",{attrs:{showLabels:!1,searchable:!1,options:["Edge","Relay"],placeholder:"전체"},model:{value:e.searchItem.edgeRelayYn,callback:function(t){e.$set(e.searchItem,"edgeRelayYn",t)},expression:"searchItem.edgeRelayYn"}})],1)],1),e._v(" "),s("div",{staticClass:"form-row"},[s("b-form-fieldset",{staticClass:"label-lg",attrs:{label:"Service Type-Protocol",horizontal:!0}},[s("multiselect",{attrs:{showLabels:!1,searchable:!1,options:e.code.serviceTypeProtocol,loading:e.isLoad.serviceTypeProtocol,label:"serviceTypeName","track-by":"serviceTypeAndProtocolCode",placeholder:"전체"},model:{value:e.serviceTypeProtocol,callback:function(t){e.serviceTypeProtocol=t},expression:"serviceTypeProtocol"}})],1),e._v(" "),s("b-form-fieldset",{staticClass:"label-lg",attrs:{label:"PoP",horizontal:!0}},[s("multiselect",{attrs:{showLabels:!1,searchable:!1,options:e.code.popId,loading:e.isLoad.popId,label:"popName","track-by":"popId",placeholder:"전체"},model:{value:e.popId,callback:function(t){e.popId=t},expression:"popId"}})],1)],1),e._v(" "),s("div",{staticClass:"search-btn"},[s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{type:"reset",variant:"outline-secondary",title:"초기화"},on:{click:e.onSearchReset}},[s("i",{staticClass:"icon-reload"})]),e._v(" "),s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{type:"button",variant:"primary",title:"검색"},on:{click:e.onSearch}},[s("i",{staticClass:"icon-magnifier"})])],1)]),e._v(" "),s("section",{staticClass:"board"},[s("b-table",{attrs:{hover:"","show-empty":"",items:e.edge.items,fields:e.edge.fields},scopedSlots:e._u([{key:"HEAD_edgeId",fn:function(t){return[s("b-form-checkbox",{attrs:{id:"checkbox1","unchecked-value":""},nativeOn:{click:function(t){return e.toggleAll(t)}},model:{value:e.edge.edgeAttachList,callback:function(t){e.$set(e.edge,"edgeAttachList",t)},expression:"edge.edgeAttachList"}})]}},{key:"edgeId",fn:function(t){return[s("b-form-checkbox",{attrs:{id:"checkbox1",value:t.value,"unchecked-value":""},model:{value:e.edge.edgeAttachList,callback:function(t){e.$set(e.edge,"edgeAttachList",t)},expression:"edge.edgeAttachList"}})]}},{key:"serviceTypeName",fn:function(t){return e._l(t.value,function(t){return s("span",{staticClass:"badge badge-pill badge-success"},[e._v("\n          "+e._s(t)+"\n        ")])})}},{key:"popName",fn:function(t){return e._l(t.value,function(t){return s("span",{staticClass:"badge badge-pill badge-success"},[e._v("\n          "+e._s(t)+"\n        ")])})}},{key:"edgeRelayYn",fn:function(t){return[e._v(e._s(t.value?"Relay":"Edge"))]}},{key:"edgeUseYn",fn:function(t){return[e._v(e._s(t.value?"사용":"미사용"))]}}])})],1),e._v(" "),s("div",{staticClass:"mx-auto",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onAttachEdge}},[e._v("선택적용")]),e._v(" "),s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(t){e.isModalUseYn=!e.isModalUseYn}}},[e._v("취소\n      ")])],1)],2),e._v(" "),s("b-modal",{class:"modal-"+e.modal.type,attrs:{title:"Message",size:"sm"},model:{value:e.modal.open,callback:function(t){e.$set(e.modal,"open",t)},expression:"modal.open"}},[s("div",{staticClass:"d-block text-center"},[s("p",[e._v(e._s(e.modal.msg))])]),e._v(" "),s("div",{staticClass:"mx-auto",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.modal.action}},[e._v("확인")]),e._v(" "),e.modal.hideCancelBtn?e._e():s("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(t){e.modal.open=!1}}},[e._v("취소\n      ")])],1)])],1)},a=[],n={render:o,staticRenderFns:a};t.a=n},621:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(1066),a=s(1067),n=s(15),l=n(o.a,a.a,null,null,null);t.default=l.exports}});