webpackJsonp([50],{1140:function(t,e,i){"use strict";var s=i(181),o=i(180),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t};e.a={name:"service",props:["id"],components:{ContentHeader:s.a,cSwitch:o.a},data:function(){return{name:"Application 상세",originItems:{},fields:{policyTypeCode:{label:"구분"},policyTypeName:{label:"항목",class:"text-left"},policyWarningThreshold:{label:"임계치",class:"text-left"},policyWarningDurationTime:{label:"지속시간",class:"text-left"},policyCriticalThreshold:{label:"임계치",class:"text-left"},policyCriticalDurationTime:{label:"지속시간",class:"text-left"}},items:{alarmPolicyId:null,serviceType:null,componentTypeCode:null,groupNames:null,alarmTypeName:null,alarmTypeCode:null,alarmPolicyUseYn:null,modifyDatetime:null,modifyId:null,alarmPolicyCompList:[],alarmPolicyGroupList:[],checkList:[],groupIds:[],selectGroup:[],possibleGroup:[],selectGroupList:[],possibleGroupList:[],selectGroupListEdit:[],possibleGroupListEdit:[],popId:null},code:{componentTypeCode:[],groupId:[],alarmTypeCode:[],popId:[]},isLoad:{componentTypeCode:!0,groupId:!0,alarmTypeCode:!0,popId:!0},isEdit:!1,isModalHistory:!1,modal:{open:!1,type:"done",msg:"",action:function(){}},inValidForm:!1}},computed:{componentTypeCode:{get:function(){var t=this;return this.code.componentTypeCode.find(function(e){return e.code===t.items.componentTypeCode})||null},set:function(t){this.items.componentTypeCode=null!==t?t.code:null}},alarmTypeCode:{get:function(){var t=this;return this.code.alarmTypeCode.find(function(e){return e.code===t.items.alarmTypeCode})||null},set:function(t){this.items.alarmTypeCode=null!==t?t.code:null}},popId:{get:function(){var t=this;return this.code.popId.find(function(e){return e.popId===t.items.popId})||null},set:function(t){this.items.popId=null!==t?t.popId:null}}},created:function(){var t=this,e="/monitoring/policies/"+this.id,i=[];this.$https.get(e).then(function(e){e.data.items.alarmPolicyCompList.forEach(function(t){t.alarmPolicyId?(t.alarmPolicyCompUseYn=!0,i.push(t)):t.alarmPolicyCompUseYn=!1}),t.items.checkList=i,t.items=l({},t.items,e.data.items),t.items.groupNames=t.items.groupNames.split(","),t.originItems=JSON.parse(JSON.stringify(t.items))}),this.$https.get("/system/commonCode",{q:{groupCode:"COMPONENT_TYPE"}}).then(function(e){t.isLoad.componentTypeCode=!1,t.code.componentTypeCode=e.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"ALARM_TYPE_CODE"}}).then(function(e){t.isLoad.alarmTypeCode=!1,t.code.alarmTypeCode=e.data.items}),this.$https.get("/setting/operators/groups").then(function(e){t.isLoad.groupId=!1,t.code.groupId=e.data.items}),this.$https.get("/pops").then(function(e){t.isLoad.popId=!1,t.code.popId=e.data.items,t.code.popId.push({popId:0,popName:"공통"})})},methods:{fetchDetail:function(t){},onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var t=this;this.items.groupIds=this.items.selectGroupList;l({},this.items);0!==this.items.groupIds.length?this.$https.put("/monitoring/policies/"+this.id,this.items).then(function(){t.$router.go(t.$router.currentRoute)}).catch(function(t){}):alert("수신 그룹을 추가하세요.")},validate:function(t){},onChecked:function(t){var e=this;t.alarmPolicyCompUseYn?this.items.checkList.forEach(function(i,s){i.policyTypeCode===t.policyTypeCode&&e.items.checkList.splice(s,1)}):this.items.checkList.push(t)},getPossibleGroupNames:function(){var t=[];return this.code.groupId.forEach(function(e){t.push({text:e.groupName,value:e.groupId})}),t},selectAllGroup:function(){0==this.items.selectGroup.length?this.items.selectGroup=this.items.selectGroupList:this.items.selectGroup=[]},possibleAllGroup:function(){0==this.items.possibleGroup.length?this.items.possibleGroup=this.items.possibleGroupList:this.items.possibleGroup=[]},updateSelectGroup:function(){var t=this;if(this.items.possibleGroup){for(var e=0;e<this.items.possibleGroupListEdit.length;e++)this.items.possibleGroup.forEach(function(i){t.items.possibleGroupListEdit[e].value==i&&(t.items.selectGroupListEdit.push(t.items.possibleGroupListEdit[e]),t.items.possibleGroupListEdit.splice(e,1))});this.items.selectGroupList=[],this.items.selectGroupListEdit.filter(function(e){var i=e.value;t.items.selectGroupList.push(i)}),this.items.possibleGroupList=[],this.items.possibleGroupListEdit.filter(function(e){var i=e.value;t.items.possibleGroupList.push(i)}),this.items.selectGroup=[],this.items.possibleGroup=[]}},deleteSelectGroup:function(){var t=this;if(this.items.selectGroup){for(var e=0;e<this.items.selectGroupListEdit.length;e++)this.items.selectGroup.forEach(function(i){t.items.selectGroupListEdit[e].value==i&&(t.items.possibleGroupListEdit.push(t.items.selectGroupListEdit[e]),t.items.selectGroupListEdit.splice(e,1))});this.items.selectGroupList=[],this.items.selectGroupListEdit.filter(function(e){var i=e.value;t.items.selectGroupList.push(i)}),this.items.possibleGroupList=[],this.items.possibleGroupListEdit.filter(function(e){var i=e.value;t.items.possibleGroupList.push(i)}),this.items.selectGroup=[],this.items.possibleGroup=[]}},removeSelectGroup:function(){this.items.selectGroup&&(this.items.selectGroup=[])},removePossibleGroup:function(){this.items.possibleGroup&&(this.items.possibleGroup=[])}}}},1141:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"animated fadeIn"},[i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],staticClass:"btn-collapse"},[i("i",{staticClass:"fa"}),t._v("\n      기본정보\n    ")])],1),t._v(" "),i("b-collapse",{attrs:{id:"formDefault",visible:""}},[i("b-form",{staticClass:"formView",attrs:{validated:t.inValidForm,novalidate:""}},[i("b-form-fieldset",{attrs:{"invalid-feedback":t.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          국사"),t.isEdit?i("i",{staticClass:"require"},[t._v("*")]):t._e()]),t._v(" "),t.isEdit?i("multiselect",{attrs:{showLabels:!1,searchable:!1,options:t.code.popId,loading:t.isLoad.popId,label:"popName","track-by":"popId"},model:{value:t.popId,callback:function(e){t.popId=e},expression:"popId"}}):i("span",[t._v("\n          "+t._s(t.items.popName)+"\n        ")])],2),t._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":t.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          ServerType"),t.isEdit?i("i",{staticClass:"require"},[t._v("*")]):t._e()]),t._v(" "),t.isEdit?i("multiselect",{attrs:{showLabels:!1,searchable:!1,options:t.code.componentTypeCode,loading:t.isLoad.componentTypeCode,label:"codeName","track-by":"code"},model:{value:t.componentTypeCode,callback:function(e){t.componentTypeCode=e},expression:"componentTypeCode"}}):i("span",[t._v("\n          "+t._s(t.items.serverType)+"\n        ")])],2),t._v(" "),t.isEdit?i("b-form-fieldset",{attrs:{description:"[!] Shift 버튼을 누른 상태에서 선택하면 여러 항목을 동시에 선택할 수 있습니다.",horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          수신그룹"),i("i",{staticClass:"require"},[t._v("*")])]),t._v(" "),t.isEdit?i("div",[i("button",{staticClass:"btn btn-outline-secondary",attrs:{title:"select전체선택","data-original-title":"전체선택"},on:{click:t.selectAllGroup}},[t._v("전체선택")]),t._v(" "),i("b-form-select",{staticStyle:{width:"150px",height:"80px"},attrs:{multiple:"","select-size":4,options:t.items.selectGroupListEdit},on:{change:t.removePossibleGroup},model:{value:t.items.selectGroup,callback:function(e){t.$set(t.items,"selectGroup",e)},expression:"items.selectGroup"}}),t._v(" "),i("button",{staticClass:"btn btn-outline-secondary",attrs:{title:"추가","data-original-title":"추가"},on:{click:t.updateSelectGroup}},[t._v("◀")]),t._v(" "),i("button",{staticClass:"btn btn-outline-secondary",attrs:{title:"제거","data-original-title":"제거"},on:{click:t.deleteSelectGroup}},[t._v("▶")]),t._v(" "),i("b-form-select",{staticStyle:{width:"150px",height:"80px"},attrs:{multiple:"","select-size":10,options:t.items.possibleGroupListEdit},on:{change:t.removeSelectGroup},model:{value:t.items.possibleGroup,callback:function(e){t.$set(t.items,"possibleGroup",e)},expression:"items.possibleGroup"}}),t._v(" "),i("button",{staticClass:"btn btn-outline-secondary",attrs:{title:"possible전체선택","data-original-title":"전체선택"},on:{click:t.possibleAllGroup}},[t._v("전체선택")])],1):t._e()],2):i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          수신그룹\n        ")]),t._v(" "),i("div",{staticClass:"badge-list"},t._l(t.items.groupNames,function(e){return i("span",{staticClass:"badge sm"},[t._v("\n            "+t._s(e)+"\n          ")])}))],2),t._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":t.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          알림 방법"),t.isEdit?i("i",{staticClass:"require"},[t._v("*")]):t._e()]),t._v(" "),t.isEdit?i("multiselect",{attrs:{showLabels:!1,searchable:!1,options:t.code.alarmTypeCode,loading:t.isLoad.alarmTypeCode,label:"codeName","track-by":"code"},model:{value:t.alarmTypeCode,callback:function(e){t.alarmTypeCode=e},expression:"alarmTypeCode"}}):i("span",[t._v("\n          "+t._s(t.items.alarmTypeName)+"\n        ")])],2),t._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":t.$valid.msg.require,horizontal:!0}},[i("template",{slot:"label"},[t._v("\n          상태"),t.isEdit?i("i",{staticClass:"require"},[t._v("*")]):t._e()]),t._v(" "),t.isEdit?i("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:t.items.alarmPolicyUseYn,callback:function(e){t.$set(t.items,"alarmPolicyUseYn",e)},expression:"items.alarmPolicyUseYn"}}):i("span",{staticClass:"badge",class:{primary:t.items.alarmPolicyUseYn}},[t._v("\n          "+t._s(t.items.alarmPolicyUseYn?"사용":"미사용")+"\n        ")])],2)],1)],1),t._v(" "),i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.alarmDetailInfo",modifiers:{alarmDetailInfo:!0}}],staticClass:"btn-collapse"},[i("i",{staticClass:"fa"}),t._v("\n      알림 상세 정보\n    ")])],1),t._v(" "),i("b-collapse",{attrs:{id:"alarmDetailInfo",visible:""}},[i("b-form",{staticClass:"formView"},[i("section",{staticClass:"board"},[i("b-table",{attrs:{"show-empty":"",items:t.items.alarmPolicyCompList,fields:t.fields},scopedSlots:t._u([{key:"policyTypeName",fn:function(e){return[t.isEdit?i("b-form-checkbox",{on:{change:function(i){t.onChecked(e.item)}},model:{value:e.item.alarmPolicyCompUseYn,callback:function(i){t.$set(e.item,"alarmPolicyCompUseYn",i)},expression:"row.item.alarmPolicyCompUseYn"}}):t._e(),t._v(" "),e.item.alarmPolicyCompUseYn&&!t.isEdit?i("span",[t._v("  * ")]):i("span",[t._v("   ")]),t._v("\n            "+t._s(e.item.policyTypeName)+"\n          ")]}},{key:"policyWarningThreshold",fn:function(e){return[t.isEdit?i("span",[i("b-form-input",{staticStyle:{width:"80px"},attrs:{type:"number",disabled:!e.item.alarmPolicyCompUseYn,required:""},model:{value:e.item.policyWarningThreshold,callback:function(i){t.$set(e.item,"policyWarningThreshold",i)},expression:"row.item.policyWarningThreshold"}}),t._v("이상\n            ")],1):i("span",[t._v(t._s(e.item.policyWarningThreshold)+" 이상")])]}},{key:"policyWarningDurationTime",fn:function(e){return[t.isEdit?i("span",[i("b-form-input",{staticStyle:{width:"80px"},attrs:{type:"number",disabled:!e.item.alarmPolicyCompUseYn,required:""},model:{value:e.item.policyWarningDurationTime,callback:function(i){t.$set(e.item,"policyWarningDurationTime",i)},expression:"row.item.policyWarningDurationTime"}}),t._v(t._s(e.item.policyWarningDurationTimeUnitName)+"\n            ")],1):i("span",[t._v(t._s(e.item.policyWarningDurationTime)+" "+t._s(e.item.policyWarningDurationTimeUnitName))])]}},{key:"policyCriticalThreshold",fn:function(e){return[t.isEdit?i("span",[i("b-form-input",{staticStyle:{width:"80px"},attrs:{type:"number",disabled:!e.item.alarmPolicyCompUseYn,required:""},model:{value:e.item.policyCriticalThreshold,callback:function(i){t.$set(e.item,"policyCriticalThreshold",i)},expression:"row.item.policyCriticalThreshold"}}),t._v("이상\n            ")],1):i("span",[t._v(t._s(e.item.policyCriticalThreshold)+" 이상")])]}},{key:"policyCriticalDurationTime",fn:function(e){return[t.isEdit?i("span",[i("b-form-input",{staticStyle:{width:"80px"},attrs:{type:"number",disabled:!e.item.alarmPolicyCompUseYn,required:""},model:{value:e.item.policyCriticalDurationTime,callback:function(i){t.$set(e.item,"policyCriticalDurationTime",i)},expression:"row.item.policyCriticalDurationTime"}}),t._v(t._s(e.item.policyCriticalDurationTimeUnitName)+"\n            ")],1):i("span",[t._v(t._s(e.item.policyCriticalDurationTime)+" "+t._s(e.item.policyCriticalDurationTimeUnitName))])]}}])})],1)])],1),t._v(" "),t.isEdit?t._e():i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formHistory",modifiers:{formHistory:!0}}],staticClass:"btn-collapse"},[i("i",{staticClass:"fa"}),t._v("\n      처리이력\n    ")])],1),t._v(" "),t.isEdit?t._e():i("b-collapse",{attrs:{id:"formHistory",visible:""}},[i("b-form",{staticClass:"formView"},[i("div",{staticClass:"form-row"},[i("b-form-fieldset",{attrs:{label:"수정일시",horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.modifyDatetime,plaintext:"",type:"text"}})],1),t._v(" "),i("b-form-fieldset",{attrs:{label:"수정자",horizontal:!0}},[i("b-form-input",{attrs:{value:t.items.modifyId,plaintext:"",type:"text"}})],1)],1)])],1),t._v(" "),t.isEdit?i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:t.onView}},[t._v("취소")]),t._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("저장")])],1):i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Notification 관리"}}},[t._v("목록")]),t._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onEdit}},[t._v("수정")])],1)],1)},o=[],l={render:s,staticRenderFns:o};e.a=l},653:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(1140),o=i(1141),l=i(15),a=l(s.a,o.a,null,null,null);e.default=a.exports}});