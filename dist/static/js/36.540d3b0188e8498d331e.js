webpackJsonp([36],{1e3:function(t,e,n){"use strict";e.a={jdd:{LEFT:"left",RIGHT:"right",EQUALITY:"eq",TYPE:"type",MISSING:"missing",diffs:[],requestCount:0},createConfig:function(){return{out:"",indent:-1,currentPath:[],paths:[],line:1}},findDiffs:function(t,e,n,i){t.currentPath.push("/"),n.currentPath.push("/");var s;if(e.length<i.length)for(s in i)i.hasOwnProperty(s)&&(e[s],e.hasOwnProperty(s)||this.jdd.diffs.push(this.generateDiff(t,this.generatePath(t),n,this.generatePath(n,"/"+s),"The right side of this object has more items than the left side",this.jdd.MISSING)));for(s in e)e.hasOwnProperty(s)&&(e[s],t.currentPath.push(s),i.hasOwnProperty(s)?(n.currentPath.push(s),this.diffVal(e[s],t,i[s],n),n.currentPath.pop()):this.jdd.diffs.push(this.generateDiff(t,this.generatePath(t),n,this.generatePath(n),"Missing property <code>"+s+"</code> from the object on the right side",this.jdd.MISSING)),t.currentPath.pop());t.currentPath.pop(),n.currentPath.pop();for(s in i)i.hasOwnProperty(s)&&(e[s],e.hasOwnProperty(s)||this.jdd.diffs.push(this.generateDiff(t,this.generatePath(t),n,this.generatePath(n,s),"Missing property <code>"+s+"</code> from the object on the left side",this.jdd.MISSING)))},formatAndDecorate:function(t,e){if(_.isArray(e))return void this.formatAndDecorateArray(t,e);this.startObject(t),t.currentPath.push("/");var n=this.getSortedProperties(e);_.each(n,function(n){t.out+=this.newLine(t)+this.getTabs(t.indent)+'"'+this.unescapeString(n)+'": ',t.currentPath.push(n),t.paths.push({path:this.generatePath(t),line:t.line}),this.formatVal(e[n],t),t.currentPath.pop()},this),this.finishObject(t),t.currentPath.pop()},startObject:function(t){t.indent++,t.out+="{",0===t.paths.length&&t.paths.push({path:this.generatePath(t),line:t.line}),0===t.indent&&t.indent++},generatePath:function(t,e){var n="";return _.each(t.currentPath,function(t){n+=t}),e&&(n+="/"+e),0===n.length?"/":n},getSortedProperties:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e=e.sort(function(t,e){return t.localeCompare(e)})},newLine:function(t){return t.line++,"\n"},getTabs:function(t){for(var e="",n=0;n<t;n++)e+="    ";return e},unescapeString:function(t){return t?t.replace("\\","\\\\").replace('"','\\"').replace("\n","\\n").replace("\b","\\b").replace("\f","\\f").replace("\r","\\r").replace("\t","\\t"):t},formatVal:function(t,e){_.isArray(t)?(e.out+="[",e.indent++,_.each(t,function(t,n){e.out+=this.newLine(e)+this.getTabs(e.indent),e.paths.push({path:this.generatePath(e,"["+n+"]"),line:e.line}),e.currentPath.push("/["+n+"]"),this.formatVal(t,e),e.currentPath.pop()},this),this.removeTrailingComma(e),e.indent--,e.out+=this.newLine(e)+this.getTabs(e.indent)+"],"):_.isObject(t)?this.formatAndDecorate(e,t):_.isString(t)?e.out+='"'+this.unescapeString(t)+'",':_.isNumber(t)?e.out+=t+",":_.isBoolean(t)?e.out+=t+",":_.isNull(t)&&(e.out+="null,")},finishObject:function(t){0===t.indent&&t.indent--,this.removeTrailingComma(t),t.indent--,t.out+=this.newLine(t)+this.getTabs(t.indent)+"}",0!==t.indent?t.out+=",":t.out+=this.newLine(t)},removeTrailingComma:function(t){","===t.out.charAt(t.out.length-1)&&(t.out=t.out.substring(0,t.out.length-1))},diffVal:function(t,e,n,i){_.isArray(t)?this.diffArray(t,e,n,i):_.isObject(t)?_.isArray(n)||_.isString(n)||_.isNumber(n)||_.isBoolean(n)||_.isNull(n)?this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both types should be objects",this.jdd.TYPE)):this.findDiffs(e,t,i,n):_.isString(t)?_.isString(n)?t!==n&&this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both sides should be equal strings",this.jdd.EQUALITY)):this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both types should be strings",this.jdd.TYPE)):_.isNumber(t)?_.isNumber(n)?t!==n&&this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both sides should be equal numbers",this.jdd.EQUALITY)):this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both types should be numbers",this.jdd.TYPE)):_.isBoolean(t)?this.diffBool(t,e,n,i):_.isNull(t)&&!_.isNull(n)&&this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both types should be nulls",this.jdd.TYPE))},diffArray:function(t,e,n,i){if(!_.isArray(n))return void this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i),"Both types should be arrays",this.jdd.TYPE));if(t.length<n.length)for(var s=t.length;s<n.length;s++)this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e),i,this.generatePath(i,"["+s+"]"),"Missing element <code>"+s+"</code> from the array on the left side",this.jdd.MISSING));_.each(t,function(s,r){n.length<=r?this.jdd.diffs.push(this.generateDiff(e,this.generatePath(e,"["+r+"]"),i,this.generatePath(i),"Missing element <code>"+r+"</code> from the array on the right side",this.jdd.MISSING)):(e.currentPath.push("/["+r+"]"),i.currentPath.push("/["+r+"]"),_.isArray(n)&&this.diffVal(t[r],e,n[r],i),e.currentPath.pop(),i.currentPath.pop())},this)},generateDiff:function(t,e,n,i,s,r){"/"!==e&&"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),"/"!==i&&"/"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var a=_.find(t.paths,function(t){return t.path===e}),h=_.find(n.paths,function(t){return t.path===i});if(!a)throw"Unable to find line number for ("+s+"): "+e;if(!h)throw"Unable to find line number for ("+s+"): "+i;return{path1:a,path2:h,type:r,msg:s}},formatPRETags:function(){_.each(document.querySelectorAll("pre"),function(t){var e=document.createElement("pre");e.className="codeBlock";var n=document.createElement("div");e.append(n);var i=function(t,e){var i=document.createElement("div");i.className="codeLine line"+(e+1);var s=document.createElement("span");s.className="code",s.textContent=t,i.append(s),n.append(i)},s=t.textContent.split("\n");_.each(s,i),e.className=t.className,e.id=t.id,t.replaceWith(e)})},processDiffs:function(){_.each(this.jdd.diffs,function(t,e){var n=document.querySelector("pre.left div.line"+t.path1.line+" span.code");n.classList.add(t.type),n.classList.add("diff");var i=document.querySelector("pre.right div.line"+t.path2.line+" span.code");i.classList.add(t.type),i.classList.add("diff")}),this.jdd.diffs=this.jdd.diffs.sort(function(t,e){return t.path1.line-e.path1.line})},highlightDiff:function(t){this.handleDiffClick(this.jdd.diffs[t].path1.line,this.jdd.BOTH)},handleDiffClick:function(t,e){var n=_.filter(this.jdd.diffs,function(n){return e===this.jdd.LEFT?t===n.path1.line:e===this.jdd.RIGHT?t===n.path2.line:t===n.path1.line||t===n.path2.line},this);document.querySelectorAll("pre.left span.code").forEach(function(t){t.classList.remove("selected")}),document.querySelectorAll("pre.right span.code").forEach(function(t){t.classList.remove("selected")}),_.each(n,function(t){document.querySelector("pre.left div.line"+t.path1.line+" span.code").classList.add("selected"),document.querySelector("pre.right div.line"+t.path2.line+" span.code").classList.add("selected")}),e!==this.jdd.LEFT&&e!==this.jdd.RIGHT||(this.currentDiff=_.findIndex(this.jdd.diffs,function(e){return e.path1.line===t})),-1===this.currentDiff&&(this.currentDiff=_.findIndex(this.jdd.diffs,function(e){return e.path2.line===t}))}}},1043:function(t,e,n){"use strict";var i=n(181),s=n(180),r=n(1e3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a={name:"diff",components:{ContentHeader:i.a,cSwitch:s.a},data:function(){return{newJsonObject:"",oldJsonObject:"",configJson:{headers:[{new:null,old:null}]}}},computed:{},created:function(){this.newJsonObject={control:{command_type:"SERVICE_CONFIG"},config:{upstream:{directives:[{key:"testcase",value:"1234567890"},{key:"gg",value:"gl"}]}}},this.oldJsonObject={control:{command_type:"SERVICE_CONFIG"},config:{upstream:{directives:[{key:"testcase",value:"1234567890"},{key:"gg",value:"gl"}]}}}},mounted:function(){this.jsonDifferentCompare()},methods:{fileOnChange:function(t){var e=new FileReader,n=function(t){var e=this.isJson(t.target.result);e?(this.newJsonObject=e,this.jsonDifferentCompare()):alert("NOT JSON")};e.onload=n.bind(this),e.readAsText(t.target.files[0])},isJson:function(t){try{var e=JSON.parse(t);if(e&&"object"===(void 0===e?"undefined":a(e)))return e}catch(t){}return!1},jsonDifferentCompare:function(){r.a.jdd.diffs=[];var t=r.a.createConfig();r.a.formatAndDecorate(t,this.newJsonObject),document.getElementById("newJson").textContent=t.out;var e=r.a.createConfig();r.a.formatAndDecorate(e,this.oldJsonObject),document.getElementById("oldJson").textContent=e.out,r.a.formatPRETags(),t.currentPath=[],e.currentPath=[],r.a.diffVal(this.newJsonObject,t,this.oldJsonObject,e),r.a.processDiffs(),r.a.jdd.diffs.length>0&&(r.a.highlightDiff(0),r.a.currentDiff=0);var n=document.querySelectorAll("span.diff");Array.prototype.forEach.call(n,function(t){t.style.background="red",t.style.color="white"})}}}},1044:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"animated fadeIn"},[n("b-collapse",{attrs:{id:"formDefault",visible:""}},[n("b-form",{staticClass:"formView"},[n("b-form-fieldset",{attrs:{label:"File Upload",horizontal:!0}},[n("input",{attrs:{type:"file"},on:{change:t.fileOnChange}})]),t._v(" "),n("b-form-fieldset",{attrs:{label:"CONFIG JSON",horizontal:!0}},[n("b-table",{staticClass:"sub",attrs:{"show-empty":"",items:t.configJson.headers},scopedSlots:t._u([{key:"new",fn:function(t){return[n("pre",{staticClass:"code left text-left",staticStyle:{height:"380px"},attrs:{id:"newJson"}})]}},{key:"old",fn:function(t){return[n("pre",{staticClass:"code right text-left",staticStyle:{height:"380px"},attrs:{id:"oldJson"}})]}}])})],1)],1)],1)],1)},s=[],r={render:i,staticRenderFns:s};e.a=r},610:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1043),s=n(1044),r=n(15),a=r(i.a,s.a,null,null,null);e.default=a.exports}});