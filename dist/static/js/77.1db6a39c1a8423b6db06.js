webpackJsonp([77],{1047:function(e,t,o){"use strict";var i=o(180),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e};t.a={name:"edgeCreate",components:{cSwitch:i.a},data:function(){return{items:{edgeId:null,popId:null,edgeRelayYn:!1,edgeUseYn:!0,serviceTypeCode:[],geoCode:null,popCtprvnCode:null,popSigCode:null,bandwidth:0},code:{popCtprvnCode:[],popSigCode:[],popId:[],serviceTypeCode:[],geoCode:[]},isLoad:{popCtprvnCode:!0,popSigCode:!0,popId:!0,serviceTypeCode:!0,geoCode:!0},inValidForm:!1}},computed:{popCtprvnCode:{get:function(){var e=this;return this.code.popCtprvnCode.find(function(t){return t.addressCode===e.items.popCtprvnCode})||null},set:function(e){this.items.popCtprvnCode=null!==e?e.addressCode:null}},popSigCode:{get:function(){var e=this;return this.code.popSigCode.find(function(t){return t.addressCode===e.items.popSigCode})||null},set:function(e){this.items.popSigCode=null!==e?e.addressCode:null}},popId:{get:function(){var e=this;return this.code.popId.find(function(t){return t.popId===e.items.popId})||null},set:function(e){this.items.popId=null!==e?e.popId:null}},geoCode:{get:function(){var e=this;return this.code.geoCode.find(function(t){return t.code===e.items.geoCode})||null},set:function(e){this.items.geoCode=null!==e?e.code:null}},serviceTypeCode:{get:function(){var e=this;return this.items.serviceTypeCode.length>0?this.items.serviceTypeCode.map(function(t){return e.code.serviceTypeCode.find(function(e){return e.serviceTypeAndProtocolCode===t})}):[]},set:function(e){this.items.serviceTypeCode=e.length>0?e.map(function(e){return e.serviceTypeAndProtocolCode}):[]}},valid:function(){return{popId:null!==this.items.popId,geoCode:null!==this.items.geoCode,serviceTypeCode:this.items.serviceTypeCode.length,popCtprvnCode:null!==this.items.popCtprvnCode,popSigCode:null!==this.items.popSigCode}},feedback:function(){return{domain:null===this.items.edgeDomainName?"Domain name 생성이 필요합니다.":""}}},created:function(){var e=this;void 0===this.$route.query.q&&(alert("잘못된 접근입니다"),this.$router.push({name:"Edge 관리"})),this.fetchAddress();var t=JSON.parse(this.$route.query.q).id;this.$https.get("/edges/"+t).then(function(t){var o=null!==t.data.items.serviceTypeCode?t.data.items.serviceTypeCode:[];t.data.items.bandwidth=0,t.data.items.popCtprvnCode=null,t.data.items.popSigCode=null,t.data.items.geoCode=null,e.items=s({},t.data.items,{serviceTypeCode:o})}),this.$https.get("/edges/serviceTypeAndProtocol").then(function(t){e.isLoad.serviceTypeCode=!1,e.code.serviceTypeCode=t.data.items}),this.$https.get("/pops").then(function(t){e.isLoad.popId=!1,e.code.popId=t.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"GEO"}}).then(function(t){e.isLoad.geoCode=!1,e.code.geoCode=t.data.items})},methods:{onSubmit:function(){var e=this;this.items.edgeRelayYn="Relay"===this.items.edgeRelayName,this.items.edgeUseYn=!0;var t=this.items,o=t.edgeId,i=t.popCtprvnCode,s=t.popSigCode,d=t.bandwidth,n=t.edgeRelayYn,a=t.edgeUseYn,l=t.serviceTypeCode,r=t.geoCode,p=this.$valid.all({serviceTypeCode:l,popCtprvnCode:i,popSigCode:s,bandwidth:d,geoCode:r});this.inValidForm=!p,p&&this.$https.post("/edges",{edgeId:o,popCtprvnCode:i,popSigCode:s,bandwidth:d,edgeRelayYn:n,edgeUseYn:a,serviceTypeCode:l,geoCode:r}).then(function(){e.$router.push({name:"Edge 상세",params:{id:e.items.edgeId}})}).catch(function(e){console.log(e)})},onChangeEdgeRelay:function(e){this.items.serviceTypeCode=[],"Relay"===e&&(this.serviceTypeCode=this.code.serviceTypeCode.map(function(e){return s({},e)}))},onSelectAfter:function(e){var t=e.find(function(e){return"SERVICE_TYPE_0103"===e.code});t&&(this.items.serviceTypeCode=[],this.serviceTypeCode=[t])},fetchAddress:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.$https.get("/pops/address",{firstDepth:t}).then(function(o){""===t?(e.isLoad.popCtprvnCode=!1,e.code.popCtprvnCode=o.data.items):(e.isLoad.popSigCode=!1,e.code.popSigCode=o.data.items)})},onFirstAddress:function(e){this.fetchAddress(e.addressCode)}}}},1048:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"animated fadeIn"},[o("b-form",{staticClass:"formView",attrs:{validated:e.inValidForm,novalidate:""}},[o("b-form-fieldset",{attrs:{label:"IP",horizontal:!0}},[o("b-form-input",{attrs:{type:"text",plaintext:""},model:{value:e.items.ip,callback:function(t){e.$set(e.items,"ip",t)},expression:"items.ip"}})],1),e._v(" "),o("b-form-fieldset",{attrs:{label:"Host Name",horizontal:!0}},[o("b-form-input",{attrs:{value:e.items.hostName,type:"text",plaintext:""}})],1),e._v(" "),o("b-form-fieldset",{attrs:{label:"구분<i class='require'>*</i>",horizontal:!0}},[o("b-form-radio-group",{attrs:{options:[{text:"Edge",value:"Edge"},{text:"Relay",value:"Relay"}]},on:{change:e.onChangeEdgeRelay},model:{value:e.items.edgeRelayName,callback:function(t){e.$set(e.items,"edgeRelayName",t)},expression:"items.edgeRelayName"}})],1),e._v(" "),o("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.select,horizontal:!0}},[o("template",{slot:"label"},[e._v("\n        Service Type / Protocol"),o("i",{staticClass:"require"},[e._v("*")])]),e._v(" "),o("multiselect",{staticClass:"multiple",class:{invalid:!e.valid.serviceTypeCode},attrs:{"track-by":"serviceTypeAndProtocolCode",label:"serviceTypeName",multiple:!0,showLabels:!1,options:e.code.serviceTypeCode,loading:e.isLoad.serviceTypeCode,disabled:"Relay"===e.items.edgeRelayName,placeholder:"Select service type"},on:{close:e.onSelectAfter},model:{value:e.serviceTypeCode,callback:function(t){e.serviceTypeCode=t},expression:"serviceTypeCode"}})],2),e._v(" "),o("b-form-fieldset",{attrs:{label:"지역<i class='require'>*</i>","invalid-feedback":e.$valid.msg.select,horizontal:!0}},[o("multiselect",{class:{invalid:!e.valid.geoCode},staticStyle:{width:"156px"},attrs:{showLabels:!1,searchable:!1,options:e.code.geoCode,loading:e.isLoad.geoCode,"track-by":"code",label:"codeName",placeholder:"선택"},model:{value:e.geoCode,callback:function(t){e.geoCode=t},expression:"geoCode"}})],1),e._v(" "),o("b-form-fieldset",{attrs:{label:"주소<i class='require'>*</i>","invalid-feedback":e.$valid.msg.select,horizontal:!0}},[o("multiselect",{staticClass:"inline",class:{invalid:!e.valid.popCtprvnCode},staticStyle:{width:"156px"},attrs:{showLabels:!1,searchable:!1,options:e.code.popCtprvnCode,loading:e.isLoad.popCtprvnCode,"track-by":"addressCode",label:"addressCodeName",placeholder:"선택"},on:{select:e.onFirstAddress},model:{value:e.popCtprvnCode,callback:function(t){e.popCtprvnCode=t},expression:"popCtprvnCode"}}),e._v(" "),e.popCtprvnCode?o("multiselect",{staticClass:"inline",class:{invalid:!e.valid.popSigCode},staticStyle:{width:"160px"},attrs:{showLabels:!1,searchable:!1,options:e.code.popSigCode,loading:e.isLoad.popSigCode,"track-by":"addressCode",label:"addressCodeName",placeholder:"선택"},model:{value:e.popSigCode,callback:function(t){e.popSigCode=t},expression:"popSigCode"}}):e._e()],1),e._v(" "),o("b-form-fieldset",{attrs:{label:"Bandwidth<i class='require'>*</i>","invalid-feedback":e.$valid.msg.require,horizontal:!0}},[o("cleave",{staticClass:"form-control",staticStyle:{width:"156px"},attrs:{value:e.items.bandwidth,options:{numeral:!0,numeralPositiveOnly:!0,numeralDecimalScale:0},required:""},on:{"update:value":function(t){e.$set(e.items,"bandwidth",t)}},model:{value:e.items.bandwidth,callback:function(t){e.$set(e.items,"bandwidth",t)},expression:"items.bandwidth"}}),e._v("\n        Gbps\n    ")],1)],1),e._v(" "),o("div",{staticClass:"page-btn"},[o("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Edge 관리"}}},[e._v("취소")]),e._v(" "),o("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장")])],1)],1)},s=[],d={render:i,staticRenderFns:s};t.a=d},612:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(1047),s=o(1048),d=o(15),n=d(i.a,s.a,null,null,null);t.default=n.exports}});