webpackJsonp([45],{1158:function(e,t,i){"use strict";var o=i(181),d=i(180),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e};t.a={name:"service",props:["id"],components:{ContentHeader:o.a,cSwitch:d.a},data:function(){return{originItems:{},items:{widgetName:"",widgetSourceCode:null,widgetModeCode:null,widgetSubModeCode:null,widgetTargetCode:[],timeRangeUseYn:!1,timeRangeQty:"",widgetUseYn:!0,widgetDisplayCode:[],widgetModeUnitCode:null,widgetModeUnitQty:"",widgetSubModeUnitCode:null,widgetSubModeUnitQty:"",valueSumYn:!1,valueAvgYn:!1,valuePeakYn:!1},code:{widgetSourceCode:[],widgetModeCode:[],widgetSubModeCode:[],widgetTargetCode:[],widgetDisplayCode:[],widgetModeUnitCode:[],widgetSubModeUnitCode:[]},isLoad:{widgetSourceCode:!0,widgetModeCode:!0,widgetSubModeCode:!0,widgetTargetCode:!0,widgetDisplayCode:!1,widgetModeUnitCode:!0,widgetSubModeUnitCode:!0},isEdit:!1,isModalHistory:!1,modal:{open:!1,type:"done",msg:"",action:function(){}},inValidForm:!1,groupSelectPlatform:!1,serviceSelectAll:!1}},computed:{widgetSourceCode:{get:function(){var e=this;return this.code.widgetSourceCode.find(function(t){return t.code===e.items.widgetSourceCode})||null},set:function(e){this.items.widgetSourceCode=null!==e?e.code:""}},widgetModeCode:{get:function(){var e=this;return this.code.widgetModeCode.find(function(t){return t.code===e.items.widgetModeCode})||null},set:function(e){this.items.widgetModeCode=null!==e?e.code:""}},widgetSubModeCode:{get:function(){var e=this;return this.code.widgetSubModeCode.find(function(t){return t.code===e.items.widgetSubModeCode})||null},set:function(e){this.items.widgetSubModeCode=null!==e?e.code:""}},widgetModeUnitCode:{get:function(){var e=this;return this.code.widgetModeUnitCode.find(function(t){return t.code===e.items.widgetModeUnitCode})||null},set:function(e){this.items.widgetModeUnitCode=null!==e?e.code:""}},widgetSubModeUnitCode:{get:function(){var e=this;return this.code.widgetSubModeUnitCode.find(function(t){return t.code===e.items.widgetSubModeUnitCode})||null},set:function(e){this.items.widgetSubModeUnitCode=null!==e?e.code:""}},widgetTargetCode:{get:function(){var e=this;return this.items.widgetTargetCode.length>0?this.items.widgetTargetCode.map(function(t){return e.code.widgetTargetCode.find(function(e){return e.code===t})}):[]},set:function(e){this.items.widgetTargetCode=e.length>0?e.map(function(e){return e.code}):[]}},valid:function(){return{}}},created:function(){var e=this,t="/setting/widget/"+this.id;this.$https.get(t).then(function(t){e.items=s({},e.items,t.data.items);var i=[],o=[];e.items.widgetDisplayList.forEach(function(e){i.push(e.widgetDisplayCode)}),e.items.widgetTargetList.forEach(function(e){o.push(e.widgetTargetCode)}),e.items.widgetDisplayCode=i,e.items.widgetTargetCode=o,e.originItems=JSON.parse(JSON.stringify(e.items))}),this.$https.get("/system/commonCode",{q:{groupCode:"WIDGET_SOURCE"}}).then(function(t){e.isLoad.widgetSourceCode=!1,e.code.widgetSourceCode=t.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"WIDGET_MODE"}}).then(function(t){e.isLoad.widgetModeCode=!1,e.code.widgetModeCode=t.data.items,e.isLoad.widgetSubModeCode=!1,e.code.widgetSubModeCode=t.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"WIDGET_MODE_UNIT"}}).then(function(t){e.isLoad.widgetModeUnitCode=!1,e.code.widgetModeUnitCode=t.data.items,e.isLoad.widgetSubModeUnitCode=!1,e.code.widgetSubModeUnitCode=t.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"WIDGET_TARGET"}}).then(function(t){e.isLoad.widgetTargetCode=!1,e.code.widgetTargetCode=t.data.items}),this.$https.get("/system/commonCode",{q:{groupCode:"WIDGET_DISPLAY"}}).then(function(t){e.isLoad.widgetDisplayCode=!1;var i=[];t.data.items.forEach(function(e){i.push({text:e.codeName,value:e.code})}),e.code.widgetDisplayCode=i})},methods:{onEdit:function(){this.isEdit=!0},onView:function(){this.isEdit=!1,this.items=JSON.parse(JSON.stringify(this.originItems))},onSubmit:function(){var e=this;this.$https.put("/setting/widget/"+this.id,this.items).then(function(){e.$router.go(e.$router.currentRoute)}).catch(function(e){console.log(e),alert(e.response.data.error.message)})},onDelete:function(){this.modal={open:!0,type:"error",msg:"정말로 삭제하시겠습니까?",action:this.onDeleteData}},onDeleteData:function(){var e=this;this.$https.delete("/setting/widget/"+this.id).then(function(){e.$router.push({name:"Widget 관리"})}).catch(function(e){console.log(e),alert(e.response.data.error.message)})}}}},1159:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"animated fadeIn"},[i("div",{staticClass:"collapse-title"},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.formDefault",modifiers:{formDefault:!0}}],staticClass:"btn-collapse"},[i("i",{staticClass:"fa"}),e._v("\n      기본정보\n    ")])],1),e._v(" "),i("b-collapse",{attrs:{id:"formDefault",visible:""}},[i("b-form",{staticClass:"formView",attrs:{validated:e.inValidForm,novalidate:""}},[i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Widget Name"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),i("b-form-input",{attrs:{type:"text",placeholder:"Enter Widget Name",plaintext:!e.isEdit,required:""},model:{value:e.items.widgetName,callback:function(t){e.$set(e.items,"widgetName",t)},expression:"items.widgetName"}})],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.select,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Data Source"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),e.isEdit?e._e():i("b-form-input",{attrs:{value:e.items.widgetSourceName,type:"text",plaintext:""}}),e._v(" "),e.isEdit?i("multiselect",{class:{invalid:!e.valid.widgetSourceCode},attrs:{"track-by":"code",label:"codeName",options:e.code.widgetSourceCode,showLabels:!1,loading:e.isLoad.widgetSourceCode,placeholder:"Select Data Source"},model:{value:e.widgetSourceCode,callback:function(t){e.widgetSourceCode=t},expression:"widgetSourceCode"}}):e._e()],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.select,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Main Mode"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),e.isEdit||"WIDGET_MODE_01"!==e.items.widgetModeCode?e._e():i("span",[e._v("\n          "+e._s(e.items.widgetModeName)+" / Unit "+e._s(e.items.widgetModeUnitQty)+" "+e._s(e.items.widgetModeUnitName)+"\n        ")]),e._v(" "),e.isEdit||"WIDGET_MODE_01"===e.items.widgetModeCode?e._e():i("span",[e._v("\n          "+e._s(e.items.widgetModeName)+"\n        ")]),e._v(" "),e.isEdit?i("multiselect",{class:{invalid:!e.valid.widgetModeCode},attrs:{"track-by":"code",label:"codeName",options:e.code.widgetModeCode,showLabels:!1,loading:e.isLoad.widgetModeCode,placeholder:"Select Main Mode"},model:{value:e.widgetModeCode,callback:function(t){e.widgetModeCode=t},expression:"widgetModeCode"}}):e._e(),e._v(" "),e.isEdit&&"WIDGET_MODE_01"===e.items.widgetModeCode?i("span",[e._v("   /   Unit  \n          "),i("b-form-input",{staticStyle:{width:"40px"},attrs:{type:"text",maxlength:"2"},model:{value:e.items.widgetModeUnitQty,callback:function(t){e.$set(e.items,"widgetModeUnitQty",t)},expression:"items.widgetModeUnitQty"}}),e._v(" "),i("multiselect",{attrs:{"track-by":"code",label:"codeName",options:e.code.widgetModeUnitCode,showLabels:!1,loading:e.isLoad.widgetModeUnitCode,placeholder:"Select Unit"},model:{value:e.widgetModeUnitCode,callback:function(t){e.widgetModeUnitCode=t},expression:"widgetModeUnitCode"}})],1):e._e()],2),e._v(" "),i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Sub Mode\n        ")]),e._v(" "),e.isEdit||"WIDGET_MODE_01"!==e.items.widgetSubModeCode?e._e():i("span",[e._v("\n          "+e._s(e.items.widgetSubModeName)+" / Unit "+e._s(e.items.widgetSubModeUnitQty)+" "+e._s(e.items.widgetSubModeUnitName)+"\n        ")]),e._v(" "),e.isEdit||"WIDGET_MODE_01"===e.items.widgetSubModeCode?e._e():i("span",[e._v("\n          "+e._s(e.items.widgetSubModeName)+"\n        ")]),e._v(" "),e.isEdit?i("multiselect",{attrs:{"track-by":"code",label:"codeName",options:e.code.widgetSubModeCode,showLabels:!1,loading:e.isLoad.widgetSubModeCode,placeholder:"Select Sub Mode"},model:{value:e.widgetSubModeCode,callback:function(t){e.widgetSubModeCode=t},expression:"widgetSubModeCode"}}):e._e(),e._v(" "),e.isEdit&&"WIDGET_MODE_01"===e.items.widgetSubModeCode?i("span",[e._v("   /   Unit  \n          "),i("b-form-input",{staticStyle:{width:"40px"},attrs:{type:"text",maxlength:"2"},model:{value:e.items.widgetSubModeUnitQty,callback:function(t){e.$set(e.items,"widgetSubModeUnitQty",t)},expression:"items.widgetSubModeUnitQty"}}),e._v(" "),i("multiselect",{attrs:{"track-by":"code",label:"codeName",options:e.code.widgetSubModeUnitCode,showLabels:!1,loading:e.isLoad.widgetSubModeUnitCode,placeholder:"Select Unit"},model:{value:e.widgetSubModeUnitCode,callback:function(t){e.widgetSubModeUnitCode=t},expression:"widgetSubModeUnitCode"}})],1):e._e()],2),e._v(" "),i("b-form-fieldset",{attrs:{label:"Values",horizontal:!0}},[e.isEdit?i("b-form-checkbox",{model:{value:e.items.valueSumYn,callback:function(t){e.$set(e.items,"valueSumYn",t)},expression:"items.valueSumYn"}},[e._v("Sum")]):e._e(),e._v(" "),e.isEdit?i("b-form-checkbox",{model:{value:e.items.valueAvgYn,callback:function(t){e.$set(e.items,"valueAvgYn",t)},expression:"items.valueAvgYn"}},[e._v("Avg")]):e._e(),e._v(" "),e.isEdit?i("b-form-checkbox",{model:{value:e.items.valuePeakYn,callback:function(t){e.$set(e.items,"valuePeakYn",t)},expression:"items.valuePeakYn"}},[e._v("Peak")]):e._e(),e._v(" "),!e.isEdit&&e.items.valueSumYn?i("span",{staticClass:"badge"},[e._v("\n            Sum\n          ")]):e._e(),e._v(" "),!e.isEdit&&e.items.valueAvgYn?i("span",{staticClass:"badge"},[e._v("\n            Avg\n          ")]):e._e(),e._v(" "),!e.isEdit&&e.items.valuePeakYn?i("span",{staticClass:"badge"},[e._v("\n            Peak\n          ")]):e._e()],1),e._v(" "),i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Display Type"),i("i",{staticClass:"require"},[e._v("*")])]),e._v(" "),e.isEdit?i("b-form-checkbox-group",{attrs:{name:"widgetDisplayCode",options:e.code.widgetDisplayCode},model:{value:e.items.widgetDisplayCode,callback:function(t){e.$set(e.items,"widgetDisplayCode",t)},expression:"items.widgetDisplayCode"}}):i("div",{staticClass:"badge-list"},e._l(e.items.widgetDisplayList,function(t){return i("span",{staticClass:"badge"},[e._v("\n            "+e._s(t.widgetDisplayName)+"\n          ")])}))],2),e._v(" "),i("b-form-fieldset",{attrs:{"invalid-feedback":e.$valid.msg.select,horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Target Type"),e.isEdit?i("i",{staticClass:"require"},[e._v("*")]):e._e()]),e._v(" "),e.isEdit?i("multiselect",{staticClass:"multiple",attrs:{label:"codeName","track-by":"code",multiple:!0,showLabels:!1,options:e.code.widgetTargetCode,loading:!1,placeholder:"Select Target"},model:{value:e.widgetTargetCode,callback:function(t){e.widgetTargetCode=t},expression:"widgetTargetCode"}}):i("div",{staticClass:"badge-list"},e._l(e.items.widgetTargetList,function(t){return i("span",{staticClass:"badge"},[e._v("\n            "+e._s(t.widgetTargetName)+"\n          ")])}))],2),e._v(" "),i("b-form-fieldset",{attrs:{label:"Time range",horizontal:!0}},[e.isEdit?i("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:e.items.timeRangeUseYn,callback:function(t){e.$set(e.items,"timeRangeUseYn",t)},expression:"items.timeRangeUseYn"}}):i("span",{staticClass:"badge",class:{primary:e.items.timeRangeUseYn}},[e._v(e._s(e.items.timeRangeUseYn?"사용":"미사용")+"\n          ")]),e._v(" "),e.items.timeRangeUseYn?i("span",[e._v("\n          (기본 : \n          "),e.isEdit?i("b-form-input",{staticStyle:{width:"40px"},attrs:{type:"text",maxlength:"2"},model:{value:e.items.timeRangeQty,callback:function(t){e.$set(e.items,"timeRangeQty",t)},expression:"items.timeRangeQty"}}):e._e(),e._v(" "),e.isEdit?e._e():i("span",[e._v("\n            "+e._s(e.items.timeRangeQty)+"\n            ")]),e._v("\n          days)\n        ")],1):e._e()],1),e._v(" "),i("b-form-fieldset",{attrs:{horizontal:!0}},[i("template",{slot:"label"},[e._v("\n          Link\n        ")]),e._v(" "),i("b-form-input",{attrs:{type:"text",placeholder:"Enter Link",plaintext:!e.isEdit},model:{value:e.items.linkUrl,callback:function(t){e.$set(e.items,"linkUrl",t)},expression:"items.linkUrl"}})],2),e._v(" "),i("b-form-fieldset",{attrs:{label:"사용여부",horizontal:!0}},[e.isEdit?i("c-switch",{staticClass:"v-switch",attrs:{type:"text",on:"사용",off:"미사용"},model:{value:e.items.widgetUseYn,callback:function(t){e.$set(e.items,"widgetUseYn",t)},expression:"items.widgetUseYn"}}):i("span",{staticClass:"badge",class:{primary:e.items.widgetUseYn}},[e._v(e._s(e.items.widgetUseYn?"사용":"미사용")+"\n          ")])],1)],1)],1),e._v(" "),e.isEdit?i("div",{staticClass:"page-btn"},[i("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:e.onView}},[e._v("취소")]),e._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onSubmit}},[e._v("저장")])],1):i("div",{staticClass:"page-btn"},[i("b-button",{staticClass:"float-left",attrs:{type:"button",variant:"outline-secondary"},on:{click:e.onDelete}},[e._v("삭제")]),e._v(" "),i("b-button",{attrs:{type:"button",variant:"outline-secondary",to:{name:"Widget 관리"}}},[e._v("목록")]),e._v(" "),i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.onEdit}},[e._v("수정")])],1),e._v(" "),i("b-modal",{class:"modal-"+e.modal.type,attrs:{title:"Message",size:"sm"},model:{value:e.modal.open,callback:function(t){e.$set(e.modal,"open",t)},expression:"modal.open"}},[i("div",{staticClass:"d-block text-center"},[i("p",[e._v(e._s(e.modal.msg))])]),e._v(" "),i("div",{staticClass:"mx-auto",attrs:{slot:"modal-footer"},slot:"modal-footer"},[i("b-button",{attrs:{type:"button",variant:"primary"},on:{click:e.modal.action}},[e._v("확인")]),e._v(" "),i("b-button",{attrs:{type:"button",variant:"outline-secondary"},on:{click:function(t){e.modal.open=!1}}},[e._v("취소")])],1)])],1)},d=[],s={render:o,staticRenderFns:d};t.a=s},662:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(1158),d=i(1159),s=i(15),a=s(o.a,d.a,null,null,null);t.default=a.exports}});